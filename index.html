---
layout: default
title: Algorotoscope Working
---

<h4>Working</h4>
<div class="box alt">
	<div class="row 50% uniform">
		{% assign count = 0 %}
		{% assign images = site.data.images | sort: 'title' %}
		<form id="all-images">
		<div class="4u">
		{% for image in images %}
				<span class="image fit">
					<a href="{{ image.url }}" target="_blank">
						<img src="{{ image.image }}" alt="" />
					</a>
					<table>
						<tr>
							<td><strong>Title:</strong></td>
							<td><input type="text" name="title" id="title-{{ count }}" value="{{ image.title }}" style="width:100%;" /></td>
						</tr>
						<tr>
							<td><strong>Tags:</strong></td>
							<td><input type="text" name="tags" id="tags-{{ count }}" value="{{ image.tags }}" style="width:100%;" /></td>
						</tr>
					</table>
					<input type="hidden" name="image" id="image-{{ count }}" value="{{ image.image }}" />
				</span>
			{% assign count = count | plus: 1 %}
		{% endfor %}
		</div>
		</form>
	</div>
</div>

<div class="box alt">
	<div class="row 50% uniform">
		<script type="text/javascript">
		function savethis()
			{
			$images = new Array();
			var elements = document.getElementById("all-images").elements;
			for (var i = 0, element; element = elements[i++];)
				{
		    if (element.type === "text" || element.type === "hidden")
					{
					if(element.name == 'title')
						{
						$i = {};
						}

		      console.log(element.name);

					$i[element.name] = element.value;

					if(element.name == 'image')
						{
						$images.push($i);
						}
					}
				}
			console.log($images);
			$yaml_dump = jsyaml.dump($images);

			document.getElementById('source').value = $yaml_dump;
			}
		</script>
		<center>
			<input type="button" onclick="savethis();" class="button special" value="Save Images" />
		</center>

		<textarea cols="10" rows="5" id="source" style="border: 1px solid #000; width: 100%; height: 350px;"></textarea>

	</div>
</div>
